<ng-lottie *ngIf="loading" [options]="lottieOpts" width="150px" height="150px"></ng-lottie>

<main id="container" *ngIf="!loading">
  <div id="banner" *ngIf="config?.image?.mobile" fxHide-gt-md>
    <img [src]="config.image.mobile" alt="">
  </div>
  <div id="banner" *ngIf="config?.image?.desktop" fxHide-lt-md>
    <img [src]="config.image.desktop" alt="">
  </div>

  <div id="share">
    <h2 class="title">{{ config?.description }}</h2>

    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="center center">
      <div fxFlex fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="center center">
        <div fxFlex="38">
          <a id="shareWhastapp" mat-raised-button color="success" (click)="shareWhatsapp()">
            <mat-icon fontSet="fab" fontIcon="fa-whatsapp"></mat-icon>
            Compartilhar Agora!
          </a>
        </div>
        <form fxFlex fxLayout="row" fxLayoutAlign="center center" [formGroup]="form" (ngSubmit)="shareWhatsappPhone()">
          <div fxFlex>
            <label for="phone">ou digite o telefone:</label>
          </div>
          <div fxFlex>
            <input type="text" id="phone" class="text-center" formControlName="phone" placeholder="(00) 00000-0000" mask="(00) 00000-0000">
          </div>
          <div fxFlex>
            <button mat-stroked-button type="submit">Enviar!</button>
          </div>
        </form>
      </div>
      <div fxFlex class="social">
        <ng-container *ngFor="let social of socials">
          <a mat-icon-button [href]="social.url" target="_blank" class="facebook" *ngIf="social.type == 'facebook'">
            <mat-icon fontSet="fab" fontIcon="fa-facebook-f"></mat-icon>
          </a>
          <a mat-icon-button [href]="social.url" target="_blank" class="youtube" *ngIf="social.type == 'youtube'">
            <mat-icon fontSet="fab" fontIcon="fa-youtube"></mat-icon>
          </a>
          <a mat-icon-button [href]="social.url" target="_blank" class="instagram" *ngIf="social.type == 'instagram'">
            <mat-icon fontSet="fab" fontIcon="fa-instagram"></mat-icon>
          </a>
          <a mat-icon-button [href]="social.url" target="_blank" class="linkedin" *ngIf="social.type == 'linkedin'">
            <mat-icon fontSet="fab" fontIcon="fa-linkedin-in"></mat-icon>
          </a>
        </ng-container>
      </div>
    </div>
  </div>

  <mat-tab-group mat-align-tabs="center">
    <mat-tab *ngFor="let tab of tabs" [label]="tab.name">
      <div class="text" [innerHtml]="tab.text | safeHtml"></div>
    </mat-tab>
  </mat-tab-group>

  <div id="expansions">
    <mat-expansion-panel class="mat-elevation-z0" *ngFor="let category of categories" hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title fxLayoutAlign="center center">{{ category.name }}</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="text" [innerHtml]="category.text | safeHtml"></div>
    </mat-expansion-panel>
    <mat-expansion-panel id="donation" class="mat-elevation-z0" *ngIf="config.donation" hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title fxLayoutAlign="center center">Doação</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="text text-wrap" [innerHtml]="config.donation | safeHtml"></div>
    </mat-expansion-panel>
  </div>
</main>